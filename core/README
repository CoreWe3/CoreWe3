CoreWe3 コア

とりあえず全命令実装し、fib.s fib_rec.s loopback.s stack_test.s で
正常に動くことを確認しました。基板上でで動かすには、まずこのフォルダ内にある
すべての.vdhファイルと.ucfファイルをISEのプロジェクトに追加します。次に
実行するコードをcore.vhd内のジェネリックパラメータCODEに
このフォルダからの相対パスで指定します。読み込めるコードは
テキスト形式で書かれた2進表記の命令列(*.binファイル)のみです。
assemblerで出力したバイナリを変換するスクリプトはfile/以下にあります。
使い方はアセンブリファイル*.sがfile/にある状態で
$ make (*.bin)
とすると*.binファイルが生成されます。
またCODEに"bootload"と指定するとブートローダが最初に読み込まれます。
RS-232cを通してバイナリでコードを送ることで、そのコードが読み込まれ、
実行されます。ただし、その際は最後尾に BEQ r0 r0 0 を追加して
アセンブルしてください。
debug/以下はデバッグに用いたコードです。